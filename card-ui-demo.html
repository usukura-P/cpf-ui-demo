<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>カード選択UI デモ12種</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--pink:#f06292;--green:#06c755;--dark:#1a1a2e;--r:12px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Zen Maru Gothic',sans-serif;background:#f8f5f0;color:#333;padding:20px;max-width:480px;margin:0 auto}
h1{text-align:center;font-size:18px;color:var(--pink);margin-bottom:8px}
.sub{text-align:center;font-size:11px;color:#999;margin-bottom:24px}
.sec{margin-bottom:32px;background:#fff;border-radius:16px;padding:20px 16px;box-shadow:0 4px 20px rgba(0,0,0,.06)}
.tag{display:block;text-align:center;font-size:10px;color:#fff;background:var(--pink);border-radius:20px;padding:2px 12px;width:fit-content;margin:0 auto 12px}
.desc{text-align:center;font-size:11px;color:#888;margin-bottom:16px;line-height:1.5}
.row{display:flex;gap:8px;justify-content:center}
.row img{width:100%;height:auto;display:block;border-radius:var(--r)}
.rst{display:block;margin:12px auto 0;padding:6px 20px;font-size:11px;color:#999;background:none;border:1px solid #ddd;border-radius:20px;cursor:pointer;font-family:inherit}

/* ② Jelly */
.jc{flex:1;cursor:pointer;border-radius:var(--r);overflow:hidden;transition:filter .3s;-webkit-tap-highlight-color:transparent}
.jc img{border-radius:0}.jc .jf{display:block}.jc .jb{display:none}
.jc.sel .jf{display:none}.jc.sel .jb{display:block}
.jc:not(.sel).dim{filter:brightness(.5)}
.jc.jig{animation:jBounce .6s ease}
@keyframes jBounce{0%{transform:scale(1)}15%{transform:scale(.85,1.15)}30%{transform:scale(1.12,.88)}45%{transform:scale(.95,1.05)}60%{transform:scale(1.05,.95)}75%{transform:scale(.98,1.02)}100%{transform:scale(1)}}

/* ③ Balloon */
.bc{flex:1;cursor:pointer;border-radius:var(--r);overflow:visible;transition:filter .3s,transform .3s;-webkit-tap-highlight-color:transparent;position:relative}
.bc img{border-radius:var(--r)}.bc .bf{display:block}.bc .bb{display:none}
.bc.sel .bf{display:none}.bc.sel .bb{display:block}
.bc:not(.sel).dim{filter:brightness(.5);transform:scale(.92)}
.bc.pop{animation:bPop .5s cubic-bezier(.175,.885,.32,1.275)}
@keyframes bPop{0%{transform:scale(1)}30%{transform:scale(1.25)}50%{transform:scale(.9)}70%{transform:scale(1.08)}100%{transform:scale(1)}}
.ptc{position:absolute;width:8px;height:8px;border-radius:50%;pointer-events:none;z-index:10;animation:pFly .7s ease-out forwards}
@keyframes pFly{0%{opacity:1;transform:translate(0,0) scale(1)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0)}}

/* ④ Domino */
.dc{flex:1;cursor:pointer;border-radius:var(--r);overflow:hidden;transition:transform .6s cubic-bezier(.25,.46,.45,.94),filter .4s;transform-origin:bottom center;-webkit-tap-highlight-color:transparent}
.dc img{border-radius:0}.dc .df{display:block}.dc .db{display:none}
.dc.sel .df{display:none}.dc.sel .db{display:block}
.dc.sel{transform:rotateX(-8deg) scale(1.03);box-shadow:0 12px 24px rgba(0,0,0,.2)}
.dc:not(.sel).fall{transform:rotateX(25deg) scale(.88);filter:brightness(.4)}

/* ⑤ Envelope */
.ec{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;position:relative;border-radius:var(--r);overflow:hidden}
.ec img{border-radius:0;width:100%;display:block}
.ec .ef{position:relative;z-index:1;transition:transform .5s ease,opacity .4s}
.ec .eb{position:absolute;top:0;left:0;width:100%;z-index:0;transform:translateY(30%);transition:transform .5s ease;opacity:0}
.ec.sel .ef{transform:translateY(-110%);opacity:0}
.ec.sel .eb{transform:translateY(0);opacity:1}
.ec:not(.sel).dim .ef{filter:brightness(.5)}

/* ⑥ Slot */
.slc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden}
.slc img{border-radius:0;width:100%;display:block}
.slc .sf{display:block}.slc .sb{display:none}
.slc.sel .sf{display:none}.slc.sel .sb{display:block}
.slc:not(.sel).dim{filter:brightness(.5)}
.slc.spin{animation:slotSpin .5s ease-out}
@keyframes slotSpin{0%{transform:rotateX(0)}40%{transform:rotateX(360deg)}70%{transform:rotateX(540deg)}100%{transform:rotateX(720deg)}}

/* ⑦ Shutter */
.shc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.shc img{border-radius:0;width:100%;display:block}
.shc .shf{position:relative;z-index:1;transition:clip-path .6s ease}
.shc .shb{position:absolute;top:0;left:0;width:100%;z-index:0}
.shc.sel .shf{clip-path:inset(0 0 100% 0)}
.shc:not(.sel) .shf{clip-path:inset(0 0 0 0)}
.shc:not(.sel).dim{filter:brightness(.5)}

/* ⑧ Glitch */
.gc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.gc img{border-radius:0;width:100%;display:block}
.gc .gf{position:relative;z-index:1;transition:opacity .1s}.gc .gb{position:absolute;top:0;left:0;width:100%;z-index:0}
.gc.sel .gf{opacity:0;z-index:0}.gc.sel .gb{z-index:1}
.gc:not(.sel).dim{filter:brightness(.5)}
.gc.glitch{animation:glitchShake .4s steps(4)}
@keyframes glitchShake{0%{transform:translate(0)}20%{transform:translate(-5px,3px)}40%{transform:translate(4px,-4px)}60%{transform:translate(-3px,5px)}80%{transform:translate(5px,-2px)}100%{transform:translate(0)}}

/* ⑨ Dissolve (pixel dissolve) */
.dsc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.dsc img{border-radius:0;width:100%;display:block}
.dsc .dsf{position:relative;z-index:1;transition:opacity .8s ease,filter .8s ease}
.dsc .dsb{position:absolute;top:0;left:0;width:100%;z-index:0}
.dsc.sel .dsf{opacity:0;filter:blur(8px)}
.dsc:not(.sel).dim{filter:brightness(.5)}

/* ⑩ Swing Door */
.swc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative;perspective:600px}
.swc img{border-radius:0;width:100%;display:block}
.swc .swf{position:relative;z-index:1;transition:transform .6s ease;transform-origin:left center;backface-visibility:hidden}
.swc .swb{position:absolute;top:0;left:0;width:100%;z-index:0}
.swc.sel .swf{transform:rotateY(-110deg)}
.swc:not(.sel).dim{filter:brightness(.5)}

/* ⑪ Accordion Squish */
.acc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.acc img{border-radius:0;width:100%;display:block}
.acc .acf{position:relative;z-index:1;transition:transform .4s ease,opacity .3s ease}
.acc .acb{position:absolute;top:0;left:0;width:100%;z-index:0;transform:scaleY(0);transform-origin:top;transition:transform .4s ease .1s}
.acc.sel .acf{transform:scaleY(0);opacity:0}
.acc.sel .acb{transform:scaleY(1)}
.acc:not(.sel).dim{filter:brightness(.5)}

/* ⑫ Iris Reveal (circle wipe) */
.irc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.irc img{border-radius:0;width:100%;display:block}
.irc .irf{position:relative;z-index:1;transition:clip-path .6s ease}
.irc .irb{position:absolute;top:0;left:0;width:100%;z-index:0}
.irc.sel .irf{clip-path:circle(0% at 50% 50%)}
.irc:not(.sel) .irf{clip-path:circle(75% at 50% 50%)}
.irc:not(.sel).dim{filter:brightness(.5)}
.intro{background:#fff5f8;border:1.5px solid var(--pink);border-radius:16px;padding:16px;margin-bottom:24px;font-size:12px;line-height:1.8;color:#555;text-align:center}
.vote-btn{display:block;width:100%;margin-top:12px;padding:10px;font-size:13px;font-family:inherit;background:var(--pink);color:#fff;border:none;border-radius:20px;cursor:pointer;opacity:.85;transition:opacity .2s,transform .2s}
.vote-btn.voted{opacity:1;transform:scale(1.03);box-shadow:0 4px 12px rgba(240,98,146,.4)}
#vote-bar{position:fixed;bottom:0;left:0;right:0;background:#fff;box-shadow:0 -4px 20px rgba(0,0,0,.12);padding:12px 20px 28px;z-index:100;text-align:center}
#vl{font-size:11px;color:#999;margin-bottom:4px}
#vn{font-size:14px;font-weight:700;color:var(--pink);margin-bottom:10px;min-height:20px}
#vs{width:100%;padding:12px;font-size:14px;font-family:inherit;background:var(--green);color:#fff;border:none;border-radius:20px;cursor:pointer;opacity:.4;transition:opacity .2s}
#vs.active{opacity:1}
body{padding-bottom:140px}

/* ⑬ Ripple */
.rpc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.rpc img{border-radius:0;width:100%;display:block}
.rpc .rpf{position:relative;z-index:1;transition:opacity .4s ease,transform .4s ease,filter .4s ease}
.rpc .rpb{position:absolute;top:0;left:0;width:100%;z-index:0;clip-path:circle(0% at var(--rx,50%) var(--ry,50%));transition:clip-path .7s cubic-bezier(.25,.46,.45,.94)}
.rpc.sel .rpf{opacity:0;transform:scale(1.06);filter:blur(4px)}
.rpc.sel .rpb{clip-path:circle(150% at var(--rx,50%) var(--ry,50%))}
.rpc:not(.sel).dim{filter:brightness(.5)}

/* ⑭ Hologram */
.hoc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative}
.hoc img{border-radius:0;width:100%;display:block}
.hoc .hof{position:relative;z-index:1;transition:opacity .5s,filter .6s}
.hoc .hob{position:absolute;top:0;left:0;width:100%;z-index:0}
.hoc::after{content:'';position:absolute;inset:0;z-index:3;pointer-events:none;border-radius:var(--r);background:linear-gradient(120deg,transparent 25%,rgba(255,80,200,.35) 38%,rgba(80,200,255,.35) 50%,rgba(200,255,80,.35) 62%,transparent 75%);background-size:300% 100%;animation:holoMove 2s linear infinite;mix-blend-mode:screen}
@keyframes holoMove{0%{background-position:200% 0%}100%{background-position:-200% 0%}}
.hoc.sel .hof{opacity:0;filter:saturate(5) brightness(2.5)}
.hoc:not(.sel).dim{filter:brightness(.5)}

/* ⑮ Flipbook */
.fbc{flex:1;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--r);overflow:hidden;position:relative;perspective:400px}
.fbc img{border-radius:0;width:100%;display:block}
.fbc .fbf{position:relative;z-index:1;transform-origin:top center;backface-visibility:hidden}
.fbc .fbb{position:absolute;top:0;left:0;width:100%;z-index:0}
.fbc.flip .fbf{animation:pageFlip .45s steps(8) forwards}
@keyframes pageFlip{0%{transform:rotateX(0);opacity:1}50%{transform:rotateX(-90deg);opacity:.4}100%{transform:rotateX(-180deg);opacity:0}}
.fbc.sel .fbf{opacity:0}
.fbc:not(.sel).dim{filter:brightness(.5)}
</style>
</head>
<body>
<h1>カード選択UI デモ12種</h1>
<p class="sub">タップして体感してください</p>
<div class="intro">新たなステップアンケート動線を構築する上で、UIのアンケートを取らせてください。<br>どの押しボタンが最も良いと思いますか？<br>全てチェックした後、ページ下部から回答お願いします！</div>


<!-- ② ぷるぷるジェリー -->
<div class="sec"><span class="tag">② ぷるぷるジェリー型</span><p class="desc">タップでぷるっと弾んで画像チェンジ</p><div class="row">
<div class="jc" data-g="jl"><img class="jf" src="select01.webp"><img class="jb" src="ans01.webp"></div>
<div class="jc" data-g="jl"><img class="jf" src="select02.webp"><img class="jb" src="ans02.webp"></div>
<div class="jc" data-g="jl"><img class="jf" src="select03.webp"><img class="jb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('jl','jc')">リセット</button></div>

<!-- ③ ポップアップバルーン -->
<div class="sec"><span class="tag">③ ポップアップバルーン型</span><p class="desc">膨らんでパン！とパーティクル飛散</p><div class="row">
<div class="bc" data-g="bl"><img class="bf" src="select01.webp"><img class="bb" src="ans01.webp"></div>
<div class="bc" data-g="bl"><img class="bf" src="select02.webp"><img class="bb" src="ans02.webp"></div>
<div class="bc" data-g="bl"><img class="bf" src="select03.webp"><img class="bb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('bl','bc')">リセット</button></div>

<!-- ④ ドミノ倒し -->
<div class="sec"><span class="tag">④ ドミノ倒し型</span><p class="desc">選択カードが前に倒れ、他は後ろに倒れる</p><div class="row">
<div class="dc" data-g="dm"><img class="df" src="select01.webp"><img class="db" src="ans01.webp"></div>
<div class="dc" data-g="dm"><img class="df" src="select02.webp"><img class="db" src="ans02.webp"></div>
<div class="dc" data-g="dm"><img class="df" src="select03.webp"><img class="db" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('dm','dc')">リセット</button></div>

<!-- ⑤ 封筒オープン -->
<div class="sec"><span class="tag">⑤ 封筒オープン型</span><p class="desc">表面が上にスライドアウト、裏面が下から登場</p><div class="row">
<div class="ec" data-g="ev"><img class="ef" src="select01.webp"><img class="eb" src="ans01.webp"></div>
<div class="ec" data-g="ev"><img class="ef" src="select02.webp"><img class="eb" src="ans02.webp"></div>
<div class="ec" data-g="ev"><img class="ef" src="select03.webp"><img class="eb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('ev','ec')">リセット</button></div>

<!-- ⑥ スロットリール -->
<div class="sec"><span class="tag">⑥ スロットリール型</span><p class="desc">タップでX軸回転、スロットのように回って止まる</p><div class="row">
<div class="slc" data-g="sl"><img class="sf" src="select01.webp"><img class="sb" src="ans01.webp"></div>
<div class="slc" data-g="sl"><img class="sf" src="select02.webp"><img class="sb" src="ans02.webp"></div>
<div class="slc" data-g="sl"><img class="sf" src="select03.webp"><img class="sb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('sl','slc')">リセット</button></div>

<!-- ⑦ シャッター -->
<div class="sec"><span class="tag">⑦ シャッター型</span><p class="desc">表面がシャッターのように上に巻き上がる</p><div class="row">
<div class="shc" data-g="sh"><img class="shf" src="select01.webp"><img class="shb" src="ans01.webp"></div>
<div class="shc" data-g="sh"><img class="shf" src="select02.webp"><img class="shb" src="ans02.webp"></div>
<div class="shc" data-g="sh"><img class="shf" src="select03.webp"><img class="shb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('sh','shc')">リセット</button></div>

<!-- ⑧ グリッチ -->
<div class="sec"><span class="tag">⑧ グリッチ型</span><p class="desc">バグったようにガタガタ震えて画像チェンジ</p><div class="row">
<div class="gc" data-g="gl"><img class="gf" src="select01.webp"><img class="gb" src="ans01.webp"></div>
<div class="gc" data-g="gl"><img class="gf" src="select02.webp"><img class="gb" src="ans02.webp"></div>
<div class="gc" data-g="gl"><img class="gf" src="select03.webp"><img class="gb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('gl','gc')">リセット</button></div>

<!-- ⑨ ディゾルブ -->
<div class="sec"><span class="tag">⑨ ディゾルブ型</span><p class="desc">表面がぼかしながら溶けて消え、裏面が浮かび上がる</p><div class="row">
<div class="dsc" data-g="ds"><img class="dsf" src="select01.webp"><img class="dsb" src="ans01.webp"></div>
<div class="dsc" data-g="ds"><img class="dsf" src="select02.webp"><img class="dsb" src="ans02.webp"></div>
<div class="dsc" data-g="ds"><img class="dsf" src="select03.webp"><img class="dsb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('ds','dsc')">リセット</button></div>

<!-- ⑩ スイングドア -->
<div class="sec"><span class="tag">⑩ スイングドア型</span><p class="desc">左端を軸にドアのように開いて裏面が見える</p><div class="row">
<div class="swc" data-g="sw"><img class="swf" src="select01.webp"><img class="swb" src="ans01.webp"></div>
<div class="swc" data-g="sw"><img class="swf" src="select02.webp"><img class="swb" src="ans02.webp"></div>
<div class="swc" data-g="sw"><img class="swf" src="select03.webp"><img class="swb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('sw','swc')">リセット</button></div>

<!-- ⑪ アコーディオン -->
<div class="sec"><span class="tag">⑪ アコーディオン型</span><p class="desc">表面が縦に潰れて裏面が伸びてくる</p><div class="row">
<div class="acc" data-g="ac"><img class="acf" src="select01.webp"><img class="acb" src="ans01.webp"></div>
<div class="acc" data-g="ac"><img class="acf" src="select02.webp"><img class="acb" src="ans02.webp"></div>
<div class="acc" data-g="ac"><img class="acf" src="select03.webp"><img class="acb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('ac','acc')">リセット</button></div>

<!-- ⑫ アイリスリビール -->
<div class="sec"><span class="tag">⑫ アイリスリビール型</span><p class="desc">中心から円形に表面が消えて裏面が出現</p><div class="row">
<div class="irc" data-g="ir"><img class="irf" src="select01.webp"><img class="irb" src="ans01.webp"></div>
<div class="irc" data-g="ir"><img class="irf" src="select02.webp"><img class="irb" src="ans02.webp"></div>
<div class="irc" data-g="ir"><img class="irf" src="select03.webp"><img class="irb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('ir','irc')">リセット</button></div>


<!-- ⑬ 水滴リップル -->
<div class="sec"><span class="tag">⑬ 水滴リップル型</span><p class="desc">タップ点から波紋が広がって画像が切り替わる</p><div class="row">
<div class="rpc" data-g="rp"><img class="rpf" src="select01.webp"><img class="rpb" src="ans01.webp"></div>
<div class="rpc" data-g="rp"><img class="rpf" src="select02.webp"><img class="rpb" src="ans02.webp"></div>
<div class="rpc" data-g="rp"><img class="rpf" src="select03.webp"><img class="rpb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('rp','rpc')">リセット</button></div>

<!-- ⑭ ホログラム -->
<div class="sec"><span class="tag">⑭ ホログラム型</span><p class="desc">虹色の光沢がきらめいて画像が溶け込む</p><div class="row">
<div class="hoc" data-g="ho"><img class="hof" src="select01.webp"><img class="hob" src="ans01.webp"></div>
<div class="hoc" data-g="ho"><img class="hof" src="select02.webp"><img class="hob" src="ans02.webp"></div>
<div class="hoc" data-g="ho"><img class="hof" src="select03.webp"><img class="hob" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('ho','hoc')">リセット</button></div>

<!-- ⑮ フリップブック -->
<div class="sec"><span class="tag">⑮ フリップブック型</span><p class="desc">パラパラ漫画のように高速でページをめくる</p><div class="row">
<div class="fbc" data-g="fb"><img class="fbf" src="select01.webp"><img class="fbb" src="ans01.webp"></div>
<div class="fbc" data-g="fb"><img class="fbf" src="select02.webp"><img class="fbb" src="ans02.webp"></div>
<div class="fbc" data-g="fb"><img class="fbf" src="select03.webp"><img class="fbb" src="ans03.webp"></div>
</div><button class="rst" onclick="resetG('fb','fbc')">リセット</button></div>

<script>
/* Generic handler */
function handle(sel,animCls){
  document.querySelectorAll(sel).forEach(function(c){
    c.addEventListener('click',function(){
      var g=document.querySelectorAll(sel+'[data-g="'+c.dataset.g+'"]');
      g.forEach(function(x){x.classList.remove('sel','dim','fall');if(animCls)x.classList.remove(animCls);x.querySelectorAll('.ptc').forEach(function(p){p.remove()})});
      c.classList.add('sel');
      if(animCls){c.classList.add(animCls);c.addEventListener('animationend',function(){c.classList.remove(animCls)},{once:true})}
      g.forEach(function(x){if(x!==c)x.classList.add('dim')});
    });
  });
}

/* ② Jelly */ handle('.jc','jig');
/* ⑤ Envelope */ handle('.ec',null);
/* ⑥ Slot */ handle('.slc','spin');
/* ⑦ Shutter */ handle('.shc',null);
/* ⑧ Glitch */ handle('.gc','glitch');
/* ⑨ Dissolve */ handle('.dsc',null);
/* ⑩ Swing Door */ handle('.swc',null);
/* ⑪ Accordion */ handle('.acc',null);
/* ⑫ Iris */ handle('.irc',null);

/* ③ Balloon + particles */
document.querySelectorAll('.bc').forEach(function(c){c.addEventListener('click',function(){
  var g=document.querySelectorAll('.bc[data-g="bl"]');
  g.forEach(function(x){x.classList.remove('sel','pop','dim');x.querySelectorAll('.ptc').forEach(function(p){p.remove()})});
  c.classList.add('sel','pop');c.addEventListener('animationend',function(){c.classList.remove('pop')},{once:true});
  var cols=['#ff6b8a','#ffd700','#06c755','#42a5f5','#ff9800','#e040fb'];
  for(var i=0;i<12;i++){var p=document.createElement('div');p.classList.add('ptc');p.style.background=cols[i%6];p.style.left='50%';p.style.top='50%';var a=(Math.PI*2/12)*i,d=40+Math.random()*30;p.style.setProperty('--tx',Math.cos(a)*d+'px');p.style.setProperty('--ty',Math.sin(a)*d+'px');c.appendChild(p);(function(el){setTimeout(function(){el.remove()},700)})(p)}
  g.forEach(function(x){if(x!==c)x.classList.add('dim')});
})});

/* ④ Domino */
document.querySelectorAll('.dc').forEach(function(c){c.addEventListener('click',function(){
  var g=document.querySelectorAll('.dc[data-g="dm"]');
  g.forEach(function(x){x.classList.remove('sel','fall')});
  c.classList.add('sel');g.forEach(function(x){if(x!==c)x.classList.add('fall')});
})});


/* ⑬ Ripple */
document.querySelectorAll('.rpc').forEach(function(c){
  c.addEventListener('click',function(e){
    var g=document.querySelectorAll('.rpc[data-g="rp"]');
    var rect=c.getBoundingClientRect();
    var t=e.touches?e.touches[0]:e;
    var rx=((t.clientX-rect.left)/rect.width*100).toFixed(1)+'%';
    var ry=((t.clientY-rect.top)/rect.height*100).toFixed(1)+'%';
    g.forEach(function(x){x.classList.remove('sel','dim');x.style.removeProperty('--rx');x.style.removeProperty('--ry')});
    c.style.setProperty('--rx',rx);
    c.style.setProperty('--ry',ry);
    c.classList.add('sel');
    g.forEach(function(x){if(x!==c)x.classList.add('dim')});
  });
});

/* ⑭ Hologram */
handle('.hoc',null);

/* ⑮ Flipbook */
document.querySelectorAll('.fbc').forEach(function(c){
  c.addEventListener('click',function(){
    var g=document.querySelectorAll('.fbc[data-g="fb"]');
    if(c.classList.contains('sel')||c.classList.contains('flip'))return;
    g.forEach(function(x){x.classList.remove('sel','flip','dim')});
    c.classList.add('flip');
    c.addEventListener('animationend',function(){
      c.classList.remove('flip');
      c.classList.add('sel');
      g.forEach(function(x){if(x!==c)x.classList.add('dim')});
    },{once:true});
  });
});

/* Reset */
function resetG(g,cls){document.querySelectorAll('[data-g="'+g+'"]').forEach(function(c){c.className=cls;c.setAttribute('data-g',g)})}

/* ===== 投票機能 ===== */
var GAS_URL='https://script.google.com/macros/s/AKfycbxTnSnseI5Yh5QKch1NzYyuZxMER3OKMS7xlSDvZP_Ll-1j5G7CyCwlABaqPnJlzqgg/exec';
var selectedUI=null;
document.querySelectorAll('.sec').forEach(function(sec){
  var tag=sec.querySelector('.tag');
  if(!tag)return;
  var name=tag.textContent.trim();
  var btn=document.createElement('button');
  btn.className='vote-btn';
  btn.textContent='⭐ これを選ぶ';
  btn.dataset.ui=name;
  btn.addEventListener('click',function(){
    document.querySelectorAll('.vote-btn').forEach(function(b){b.classList.remove('voted');b.textContent='⭐ これを選ぶ'});
    btn.classList.add('voted');
    btn.textContent='✅ 選択中！';
    selectedUI=name;
    document.getElementById('vn').textContent=name;
    document.getElementById('vs').classList.add('active');
  });
  sec.appendChild(btn);
});
function submitVote(){
  if(!selectedUI)return;
  var vs=document.getElementById('vs');
  vs.textContent='送信中...';
  vs.disabled=true;
  fetch(GAS_URL,{method:'POST',mode:'no-cors',headers:{'Content-Type':'application/json'},body:JSON.stringify({ui:selectedUI})})
    .then(function(){vs.textContent='✅ 回答しました！ありがとうございます';vs.style.background='#aaa'})
    .catch(function(){vs.textContent='送信に失敗しました。再度お試しください';vs.disabled=false;vs.classList.add('active')});
}
</script>
<div id="vote-bar">
<div id="vl">あなたのお気に入りUI</div>
<div id="vn">（まだ選択されていません）</div>
<button id="vs" onclick="submitVote()">この選択で回答する</button>
</div>
</body>
</html>
